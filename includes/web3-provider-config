<h1 id='custom-config-files'>Custom Config Files</h1><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
  <span class="s2">"global"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"enableProxies"</span><span class="p">:</span> <span class="kc">false</span>
  <span class="p">},</span>

  <span class="s2">"services"</span><span class="p">:</span> <span class="p">{</span>

    <span class="s2">"web3"</span><span class="p">:</span> <span class="p">[</span>
      <span class="s2">"Web3Service"</span><span class="p">,</span>
      <span class="p">{</span>
        <span class="s2">"usePresetProvider"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
        <span class="s2">"provider"</span><span class="p">:</span> <span class="p">{</span>
          <span class="s2">"type"</span><span class="p">:</span> <span class="s2">"INFURA"</span><span class="p">,</span>
          <span class="s2">"network"</span><span class="p">:</span> <span class="s2">"kovan"</span>
          <span class="s2">"infuraApiKey"</span><span class="p">:</span> <span class="s1">'ab...yz'</span>
        <span class="p">},</span>
        <span class="s2">"privateKey"</span><span class="p">:</span> <span class="s2">"0x..."</span>
      <span class="p">}</span>
    <span class="p">],</span>
    <span class="s2">"allowance"</span><span class="p">:</span> <span class="s2">"AllowanceService"</span><span class="p">,</span>
    <span class="s2">"cdp"</span><span class="p">:</span> <span class="s2">"EthereumCdpService"</span><span class="p">,</span>
    <span class="s2">"exchange"</span><span class="p">:</span> <span class="s2">"OasisExchangeService"</span><span class="p">,</span>
    <span class="s2">"smartContract"</span><span class="p">:</span> <span class="s2">"SmartContractService"</span><span class="p">,</span>
    <span class="s2">"token"</span><span class="p">:</span> <span class="s2">"EthereumTokenService"</span><span class="p">,</span>
    <span class="s2">"conversionService"</span><span class="p">:</span> <span class="s2">"TokenConversionService"</span><span class="p">,</span>
    <span class="s2">"gasEstimator"</span><span class="p">:</span> <span class="s2">"GasEstimatorService"</span><span class="p">,</span>
    <span class="s2">"transactionManager"</span><span class="p">:</span> <span class="s2">"TransactionManager"</span><span class="p">,</span>
    <span class="s2">"priceFeed"</span><span class="p">:</span> <span class="s2">"PriceFeedService"</span><span class="p">,</span>

    <span class="s2">"timer"</span><span class="p">:</span> <span class="s2">"TimerService"</span><span class="p">,</span>
    <span class="s2">"log"</span><span class="p">:</span> <span class="s2">"ConsoleLogger"</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre>
<p>When creating a new Maker object, a Config file is passed in. Here is the config file created by ConfigFactory.create(&#39;kovan&#39;)</p>

<p>Config files allow for mixing and matching of different implementations of services used by the library.</p>

<p>They also allow users to pass in settings to certain services.</p>
<h2 id='web3service-settings'><strong>Web3Service Settings</strong></h2><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
    <span class="s2">"usePresetProvider"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
    <span class="s2">"provider"</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">"type"</span><span class="p">:</span> <span class="s2">"INFURA"</span><span class="p">,</span>
      <span class="s2">"network"</span><span class="p">:</span> <span class="s2">"kovan"</span>
      <span class="s2">"infuraApiKey"</span><span class="p">:</span> <span class="s1">'ab...yz'</span>
    <span class="p">},</span>
    <span class="s2">"privateKey"</span><span class="p">:</span> <span class="s2">"0x..."</span>
 <span class="p">}</span>
</code></pre>
<p>A common service to pass in settings to is the Web3Service, which controls</p>

<ol>
<li>How the library connects to an ethereum node</li>
<li>Which private keys the library has access to</li>
</ol>

<p>For example, these are the Web3Service settings for the &quot;kovan&quot; config file from above</p>

<p>Below are the different options that can be passed in to the Web3Service settings</p>
<h3 id='usepresetprovider'><strong>usePresetProvider</strong></h3><pre class="highlight javascript tab-javascript"><code><span class="s2">"usePresetProvider"</span><span class="p">:</span> <span class="kc">true</span>
</code></pre>
<p>if marked true, the object obtained from <code>window.web3</code> (if there is one) will be used as the Provider, instead of creating a new one. For example, this should be true if the library is used in a browser and it should use metamask as its Web3Provider.</p>

<p>Default value: false.</p>
<h3 id='statustimerdelay'><strong>statusTimerDelay</strong></h3><pre class="highlight javascript tab-javascript"><code><span class="s2">"statusTimerDelay"</span><span class="p">:</span> <span class="mi">2000</span>

</code></pre>
<p>Number in milliseconds that represents how often the blockchain connection and account authentication is checked. This allows the library to move out of an authenticated or connected state when it discovers it no longer has access to unlocked accounts, or can no longer connect to a node.</p>

<p>default value: 5000 (5 seconds)</p>
<h3 id='privatekey'><strong>privateKey</strong></h3><pre class="highlight javascript tab-javascript"><code><span class="nx">privateKey</span><span class="p">:</span> <span class="s2">"0x..."</span>

</code></pre>
<p>private key used to sign all transactions.  If not provided, the first account available from the ethereum node will be used to sign transaction.</p>
<h3 id='provider-type'><strong>Provider Type</strong></h3><pre class="highlight javascript tab-javascript"><code><span class="s2">"provider"</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">"type"</span><span class="p">:</span> <span class="s2">"HTTP"</span>
  <span class="p">}</span>
</code></pre>
<p>&quot;INFURA&quot;: connect to an ethereum node via infura</p>

<p>&quot;TEST&quot;: connect to a local test blockchain at &#39;http://127.1:2000&#39;</p>

<p>&quot;HTTP&quot;: connect to an ethereum node via any arbitrary url</p>
<h3 id='provider-network'><strong>Provider Network</strong></h3><pre class="highlight javascript tab-javascript"><code><span class="s2">"provider"</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">"network"</span><span class="p">:</span> <span class="s2">"kovan"</span>
  <span class="p">}</span>
</code></pre>
<p>Name of ethereum network to use when using the &quot;INFURA&quot; provider type.  The Maker smart contracts are only deployed on mainnet and kovan (not ropsten or rinkeby)</p>

<p>options: &quot;mainnet&quot; | &quot;kovan&quot;</p>
<h3 id='provider-url'><strong>Provider URL</strong></h3><pre class="highlight javascript tab-javascript"><code><span class="s2">"provider"</span><span class="p">:</span> <span class="p">{</span>
    <span class="nl">type</span><span class="p">:</span> <span class="s2">"HTTP"</span>
    <span class="nl">url</span><span class="p">:</span> <span class="s1">'https://sai-service.makerdao.com/node'</span>
  <span class="p">}</span>

</code></pre>
<p>url of node to connect.  Only used when using &quot;HTTP&quot; provider type.</p>
<h3 id='infura-api-key'><strong>Infura API Key</strong></h3><pre class="highlight javascript tab-javascript"><code><span class="s2">"provider"</span><span class="p">:</span> <span class="p">{</span>
    <span class="nl">type</span><span class="p">:</span> <span class="s2">"INFURA"</span>
    <span class="nl">infuraApiKey</span><span class="p">:</span> <span class="s1">'ab...yz'</span>
  <span class="p">}</span>

</code></pre>
<p>String value of your Infura unique Access Token (the part after infura.io/ when accessing infura via https)</p>
<h3 id='default-web3service-settings'><strong>Default Web3Service Settings</strong></h3><pre class="highlight javascript tab-javascript"><code><span class="p">{</span>
  <span class="nl">usePresetProvider</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="nx">provider</span><span class="p">:</span> <span class="p">{</span>
    <span class="nl">type</span><span class="p">:</span> <span class="s2">"HTTP"</span><span class="p">,</span>
    <span class="nx">url</span><span class="p">:</span> <span class="s1">'https://sai-service.makerdao.com/node'</span>
  <span class="p">}</span>
<span class="p">};</span>
</code></pre>
<p>if no settings are passed in to the Web3Service in the config json file, the default settings are used.  It connects to a node run by the Maker team at &quot;https://sai-service.makerdao.com/node&quot;</p>
